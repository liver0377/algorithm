### 击中战舰

![image-20220918120816913](http://www.cdn.liver0377.xyz/typora/202209181208992.png)



**解题思路**

- 此题基于贪心

- 题意转换

  至少向多少个位置发动打击, 使得确保自己可以击中一个战舰 <=> 至少向多少个位置发动打击, 使得剩下的位置最多只能够放 a - 1艘战舰

- 假设区间有k个位置被打击, 那么整个大区间就会被分为k + 1个小区间

  由于战舰不能够跨过被打击的位置, 因此如果要统计剩下位置能够放置多少战舰, 就只需要将每个小区间能够放置的最大战舰数目累加即可

- 对于任意一个小区间, 在该区间内任意一个位置攻击, 最多可以使得该区间能够放置的最大战舰数目-1, 

  如果按照如下方式打击, 每次肯定能够让区间放置的最大战舰数目 - 1, 

  ![image-20220918121326878](http://www.cdn.liver0377.xyz/typora/202209181213915.png)

  如果在位置b进行打击, 那么左边肯定无法放置战舰, 若原区间能够放置的最大战舰数目为t, 那么剩下的区间能够放置的最大数目为

  t - 1, 同理, 还可以在2b + 1, 3b + 1等位置打击以继续减小能够放置的最大战舰数目
  
  



**代码实现**

```cc
#include <iostream>
#include <string>

using namespace std;

const int N = 2e5 + 10;

string str;
int idx, n, a, b, k;

int main() {
    cin >> n >> a >> b >> k;
    cin >> str;
    
    int res = 0;
    for (int i = 0, len = 0; i < n; i++) {
        if (str[i] == '1') len = 0;
        else {
            if (++ len == b) {
                res ++;      // 统计能够放置的最大战舰数目
                len = 0;            
            }
        }
    }
    res -=  a - 1;           // 需要最小打击数
    cout << res << endl;
    
    for (int i = 0, len = 0; res ; i++) {
        if (str[i] == '1') len = 0;
        else {
            if (++ len == b) {    // 从左到右打击
                cout << i + 1 << " ";  // 这里编号从1开始
                len = 0;
                res --;
            }
        }
    }
    return 0;
}
```

