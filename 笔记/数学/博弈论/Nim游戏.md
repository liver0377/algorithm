![image-20220511204528767](https://cdn.jsdelivr.net/gh/liver0377/images@main/img/image-20220511204528767.png)

![image-20220511204606068](https://cdn.jsdelivr.net/gh/liver0377/images@main/img/image-20220511204606068.png)



定义 **必胜状态** 为 **先手必胜的状态**，**必败状态** 为 **先手必败的状态**

**定理**

- 定理 1：没有后继状态的状态是必败状态

  当每堆物品个数均为0时，就没有后继状态，此时该局面必败

- 定理 2：一个状态是必胜状态当且仅当存在**至少一个**必败状态为它的后继状态

  如果一个状态时必胜的，那么在该局面进行一步最优操作之后，留给对手的可以是一个必败状态

- 定理 3：一个状态是必败状态当且仅当它的**所有**后继状态均为必胜状态

  如果一个状态时必败状态，那么在该局面经过一步操作之后，留给对手的一定是一个必胜状态



**结论**

- 假设当前状态为(a1, a2, a3...), 则有

  - 若a1 ^ a2 ^ a3... ^ an = 0, 则该状态必败
  - 若a1 ^ a2 ^ a3...^an != 0, 则该状态必胜

  上面的^为异或操作

- 证明

  ![image-20220522083323033](https://cdn.jsdelivr.net/gh/liver0377/images@main/img/image-20220522083323033.png)

**例题**

- [acwing891](https://www.acwing.com/problem/content/893/)







