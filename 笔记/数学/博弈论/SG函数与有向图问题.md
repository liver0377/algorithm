- 有向图问题

  在一个有向无环图中，只有一个起点，上面有一个棋子，两个玩家轮流沿着有向边推动棋子，不能走的玩家判负



- SG函数
  - 如果一个状态x没有任何后续状态, 那么SG(x) = 0
  - 如果一个状态x的直接后继节点分别为a1, a2, ..., 那么SG(x) = mex{a1, a2, ...}
    - mex(S) 表示不属于集合S的最小自然数
    - 如mex{5, 6, 3} = 0, mex{0, 2, 5} = 1



对于任何一个公平的两人游戏，都可以将其转换为有向图游戏



**例题**

![image-20220511214313831](https://cdn.jsdelivr.net/gh/liver0377/images@main/img/image-20220511214313831.png)



这里可以建立n个图，每次玩家可以操纵n个图中的任意一个

下面是一个石子数为10的堆建立的图

![image-20220511214404576](https://cdn.jsdelivr.net/gh/liver0377/images@main/img/image-20220511214404576.png)

红色值是石子树对应的SG函数的值



对于n个图而言， 只需要将所有图的起始节点的SG值进行异或，如果结果为0表示必败，否则必胜，与Nim游戏是相同思想



**例题**

- [acwing893](https://www.acwing.com/problem/content/895/)

